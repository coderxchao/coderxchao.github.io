---
title: 交大 h5 开发在火狐浏览器上兼容性问题
createTime: 2024/11/07 14:45:58
permalink: /article/io5lwe19/
tags: [开发问题, 兼容性]
---

交大资产 `h5` 端在火狐浏览器上登录成功后又重新跳转到登录页面，但是在谷歌和 edge 浏览器上没有问题，通过控制台查看及 `debug` 一步步调式最后发现是在首页当时做了一个需求。进入首页弄了个 `a` 标签需要跳转到 `app`，通过代码自动控制触发了 `a` 标签的 `click` 点击事件，但是这个点击事件在火狐浏览器下很奇怪，会造成组件重新渲染，然后进入主页后会根据交大资产登录成功返回的 `code` 去获取自己后端的 `token`，但是接口请求还没成功，页面重新渲染，在火狐浏览器下就会导致获取 token 的接口被中止了，然后主页又有判断本地是否有 `token`，没有 `token` 则跳回到登录页，就这样登录成功后又一直重新跳回登录页面了。后面解决方案就是等到登录成功之后再去执行 `a` 标签的点击事件
