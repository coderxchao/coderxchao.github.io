import{_ as o,c as t,a as s,o as i}from"./app-3ObzEPbj.js";const n={};function c(l,e){return i(),t("div",null,e[0]||(e[0]=[s('<h2 id="wsl-2-中查询-wsl-2-中的-ip" tabindex="-1"><a class="header-anchor" href="#wsl-2-中查询-wsl-2-中的-ip"><span>WSL 2 中查询 WSL 2 中的 IP</span></a></h2><p>在 wsl 2 中执行命令：ifconig <img src="https://coderchao.oss-cn-shanghai.aliyuncs.com/images/1725615057695.png" alt="1725615057695.png"></p><blockquote><p>获得 wsl 2 中的 ip 地址为 <code>172.24.203.60</code>，这里需要注意找的 wsl 2 的 ip 地址为后面的 netmask 是 <code>255.255.240.0</code> 这个对应的 <code>inet</code> 的值</p></blockquote><h2 id="设置端口转发" tabindex="-1"><a class="header-anchor" href="#设置端口转发"><span>设置端口转发</span></a></h2><p>在 windows 中，管理员打开 <code>power shell</code>，执行以下命令： <code>netsh interface portproxy add v4tov4 listenport=[宿主机windows平台监听端口] listenaddress=0.0.0.0 connectport=[wsl2平台监听端口] connectaddress=[wsl2平台ip] protocol=tcp</code></p><blockquote><p>比如 vite 开发服务器端口 5173，即把 WSL 2 中的 5173 端口转发到 windows 下的 5173 端口 <code>netsh interface portproxy add v4tov4 listenport=5173 listenaddress=0.0.0.0 connectport=5173 connectaddress=172.24.203.60 protocol=tcp</code></p></blockquote><p>另外，其他两个命令：</p><blockquote><p>查看端口转发状态：<code>netsh interface portproxy show all</code> 删除端口转发：<code>netsh interface portproxy delete v4tov4 listenport=[宿主机windows平台监听端口] listenaddress=0.0.0.0</code></p></blockquote><p>比如删除刚刚建立的端口转发：<code>netsh interface portproxy delete v4tov4 listenport=5173 listenaddress=0.0.0.0</code></p><blockquote><p>上述命令中的 listenaddress=0.0.0.0 可以全部更改为 listenaddress=*</p></blockquote><h2 id="window-设置防火墙" tabindex="-1"><a class="header-anchor" href="#window-设置防火墙"><span>Window 设置防火墙</span></a></h2><blockquote><p>在高级防火墙设置中 (找不到的话可以在开始菜单搜索防火墙)，新建入站规则，选择端口-TCP, 特定本机端口: 5173-允许连接，保存规则名称为 vite 本机开发服务器。</p></blockquote><p><img src="https://coderchao.oss-cn-shanghai.aliyuncs.com/images/1725615483294.png" alt="1725615483294.png"></p><p>上面设置完后就可以通过局域网访问 wsl 2 中的程序端口了。</p><blockquote><p>如需查看 windows 的局域网 ip 地址，可通过 ipconfig 查看</p></blockquote><p><a href="https://wtto00.github.io/posts/setting-up-lan-access-for-wsl2/" target="_blank" rel="noopener noreferrer">WSL2 设置局域网访问 (wtto00.github.io)</a></p>',16)]))}const r=o(n,[["render",c],["__file","index.html.vue"]]),d=JSON.parse('{"path":"/article/xdxilw1b/","title":"WSL2 中开发配置局域网访问","lang":"zh-CN","frontmatter":{"title":"WSL2 中开发配置局域网访问","createTime":"2024/11/07 11:08:25","permalink":"/article/xdxilw1b/","tags":["wsl"]},"headers":[{"level":2,"title":"WSL 2 中查询 WSL 2 中的 IP","slug":"wsl-2-中查询-wsl-2-中的-ip","link":"#wsl-2-中查询-wsl-2-中的-ip","children":[]},{"level":2,"title":"设置端口转发","slug":"设置端口转发","link":"#设置端口转发","children":[]},{"level":2,"title":"Window 设置防火墙","slug":"window-设置防火墙","link":"#window-设置防火墙","children":[]}],"readingTime":{"minutes":1.33,"words":400},"git":{"createdTime":1730966370000,"updatedTime":1730966370000,"contributors":[{"name":"coderchao","email":"coderchao@foxmail.com","commits":1}]},"filePathRelative":"工具配置/WSL2 中开发配置局域网访问.md","categoryList":[{"id":"a33812","sort":10001,"name":"工具配置"}],"bulletin":false}');export{r as comp,d as data};
